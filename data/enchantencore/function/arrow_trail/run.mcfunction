execute unless entity @e[predicate=enchantencore:entity/is_arrow_trail] run return fail
execute as @e[type=#enchantencore:hard_projectiles,predicate=enchantencore:entity/is_arrow_trail] at @s if predicate enchantencore:entity/in_ground run tag @s add ee.in_ground

execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=heart_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:heart ^ ^ ^-.1 .1 .1 .1 0 1 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=cherry_leaves_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:cherry_leaves ^ ^ ^-.1 .2 .2 .2 0 3 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=cosy_smoke_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:campfire_cosy_smoke ^ ^ ^-.1 .1 .2 .3 0 3 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=dolphin_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:dolphin ^ ^ ^-.1 .1 .2 .3 0 5 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=dripping_honey_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:dripping_honey ^ ^ ^-.1 .1 .2 .3 0 5 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=dripping_lava_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:dripping_lava ^ ^ ^-.1 .1 .2 .3 0 5 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=dripping_obsidian_tear_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:dripping_obsidian_tear ^ ^ ^-.1 .1 .2 .3 0 5 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=dripping_water_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:dripping_water ^ ^ ^-.1 .1 .2 .3 0 5 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=enchant_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:enchant ^ ^ ^-.1 .1 .2 .3 0 5 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=end_rod_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:end_rod ^ ^ ^-.1 .1 .2 .3 0 3 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=firework_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:firework ^ ^ ^-.1 .1 .2 .3 0 3 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=flame_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:flame ^ ^ ^-.1 .1 .2 .3 0 3 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=happy_villager_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:happy_villager ^ ^ ^-.1 .1 .2 .3 0 5 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=note_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:note ^ ^ ^-.1 .1 .2 .3 0 2 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=ominous_spawning_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:ominous_spawning ^ ^ ^-.1 .1 .2 .3 0 3 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=portal_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:reverse_portal ^ ^ ^-.1 .1 .2 .3 0 5 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=raid_omen_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:raid_omen ^ ^ ^-.1 .1 .2 .3 0 3 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=scrape_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:scrape ^ ^ ^-.1 .1 .2 .3 0 5 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=sculk_soul_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:sculk_soul ^ ^ ^-.1 .1 .2 .3 0 2 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=snowflake_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:snowflake ^ ^ ^-.1 .1 .2 .3 0 3 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=soul_fire_flame_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:soul_fire_flame ^ ^ ^-.1 .1 .2 .3 0 3 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=totem_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:totem_of_undying ^ ^ ^-.1 .1 .2 .3 0 5 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=trial_omen_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:trial_omen ^ ^ ^-.1 .1 .1 .1 0 1 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=wax_off_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:wax_off ^ ^ ^-.1 .1 .2 .3 0 5 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=wax_on_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:wax_on ^ ^ ^-.1 .1 .2 .3 0 5 force
execute as @e[type=#enchantencore:hard_projectiles,tag=!ee.in_ground,tag=witch_arrow_trail] at @s unless predicate enchantencore:entity/in_ground run particle minecraft:witch ^ ^ ^-.1 .1 .2 .3 0 5 force